@model pizzashop.repository.ViewModels.LoginViewModel;
@{
    Layout = "_IndexLayout";
    ViewData["Title"] = "Home Page";
}
<head>
   
</head>
@await Html.PartialAsync("_Toast")
<span style="font-size: 30px; font-weight: 500; font-family: Roboto;" class="mt-3">Welcome,</span>
<form class="w-100" method="post" id="loginForm" asp-controller="Home" asp-action="Index">
    <div class="input-group">
        <input type="email" asp-for="Email" class="form-control form-control-lg mt-3" id="email" placeholder="Email*">
        <span class="input-group-text mt-3" style="height: 48px;">
            <img src="~/images/icons/customer.svg" alt="user-icon" style="width:20px; height:20px;">
        </span>
    </div>
    <span asp-validation-for="Email" class="text-danger"></span>
    <div class="input-group">
        <input type="password" asp-for="Password" class="form-control form-control-lg mt-3" id="password" placeholder="Password*" >
        <span class="input-group-text mt-3 togglePassword" style="cursor: pointer; height: 48px;" >
            <i class="bi bi-eye-slash" id="eyeIcon" style="font-size: 20px;"></i>
        </span>
    </div>
    <span asp-validation-for="Password" class="text-danger"></span>
    <div class="w-100 d-flex justify-content-between align-items-center mt-3">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="remember" name="remember" value="true"
                asp-for="Remember">
            <label class="form-check-label" for="flexCheckDefault">
                Remember me
            </label>
        </div>
        <a href="" id="forgotPasswordLink">Forgot Password?</a>
    </div>
    <button type="submit" class="mt-3"
        style="border: none; background-color: rgb(68, 68, 228); border-radius: 3px; width: 100%; height: 2.5rem;">Login</button>
</form>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
<script>
    document.getElementById('forgotPasswordLink').addEventListener('click', function (e) {
        e.preventDefault(); 
        var email = document.getElementById('email').value;
        var forgotPasswordUrl = '@Url.Action("ForgotPassword", "Home")?email=' + encodeURIComponent(email);
        window.location.href = forgotPasswordUrl;
    });
</script>
